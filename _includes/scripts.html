<!-- JavaScript -->
<script src="https://api.tiles.mapbox.com/mapbox.js/v2.1.4/mapbox.js"></script>
<script src="{{page.baseurl}}public/js/jquery.js"></script>
<script src="{{page.baseurl}}public/js/library.js"></script>
<script src="{{page.baseurl}}public/js/app.js"></script>

<!-- Scroll to Top -->
<a href="#" id="icon-scroll-up">
  <i class="fa fa-chevron-up"></i>
</a>

{% if page.layout == "docs" %}
  <!-- Table of Contents -->
  <script>
    $(document).ready(function() {
      $('.contents').contents();
    });
  </script>

  <!-- Maps -->
  <script>
    var map = L.map('map').setView([51.52, 25.52], 3);
    L.tileLayer('https://api.tiles.mapbox.com/v4/mapbox.emerald/9/247/163@2x.png?access_token=pk.eyJ1IjoiY2FsZW9yb3Vya2UiLCJhIjoiY2RlNmJmODg1Y2ViZjRkNzVmZjVmYjUyNTEzZDM2YjQifQ.18QLGikejNzkYC_e_TBp5w', {
    attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
    maxZoom: 18,
    id: 'caleorourke.49aa864b',
    accessToken: 'pk.eyJ1IjoiY2FsZW9yb3Vya2UiLCJhIjoiY2RlNmJmODg1Y2ViZjRkNzVmZjVmYjUyNTEzZDM2YjQifQ.18QLGikejNzkYC_e_TBp5w'
}).addTo(map);
  </script>

{% elsif page.layout == "landing" %}
  <!-- Fetches contributors, stargazers and latest version from GitHub -->
  <script>
    var month = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];

    $.ajax({
      url: 'https://api.github.com/repos/' + '{{site.github.user.name}}/' + '{{site.github.user.repo}}/' + 'tags?callback?',
      dataType: 'jsonp',
      success: function(json) {
        latestVersion = json.data[0];
        $('#js-github-version').text(latestVersion.name);
      }
    });

    $.ajax({
      url: 'https://api.github.com/repos/' + '{{site.github.user.name}}/' + '{{site.github.user.repo}}/' + 'commits?state=closed/callback?',
      dataType: 'jsonp',
      success: function (json) {
        lastCommit = json.data[0];
        stamp = new Date(lastCommit.commit.committer.date),
        stampString = month[stamp.getMonth()] + ' ' + stamp.getDate();
        $('#js-github-commit').text(stampString);
      }
    });
  </script>
{% endif %}
